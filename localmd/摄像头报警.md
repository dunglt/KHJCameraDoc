
#设备报警

所有报警相关接口
```
KHJDeviceManager *manager = [[KHJDeviceManager alloc] init];
DeviceInfo *deviceInfo = [[DeviceInfo alloc] init];
```

###获取设备报警地址
方法如下：

![Snip20190910_68](/assets/Snip20190910_68.png)

> 该方法可用于验证报警地址是否正确

###设置设备报警地址

方法如下：
![Snip20190910_67](/assets/Snip20190910_67.png)

```
// 在设备连接成功后，给设备设置一次报警地址，当设备触发报警时，可推送到该地址
[manager setphpserver:@"url" returnBlock:^(BOOL success){

}];
```

###获取设备报警声音的开关状态
方法如下：

![Snip20190910_50](/assets/Snip20190910_50.png)
```
// get 方法，获取设备的报警声音是否打开
[manager getDeviceAlarmVolume:^(BOOL isOpen){

}];
```

###设置设备报警声音开关
方法如下：

![Snip20190910_51](/assets/Snip20190910_51.png)
```
// set 方法，打开/关闭 设备的报警声音
[manager setDeviceAlarmVolume:isOpen returnBlock:^(BOOL isOpen){

}];
```

###获取移动侦测等级
方法如下：

![Snip20190910_69](/assets/Snip20190910_69.png)
```
// get 方法，获取设备的侦测移动物体的灵敏度
[manager getMotionDetect:^(BOOL isOpen){

}];
```

###设置设备 “移动侦测” 等级
方法如下：

![Snip20190910_70](/assets/Snip20190910_70.png)
```
// set 方法，打开/关闭 设备的报警声音
[manager setMotionDetect:level returnBlock:^(BOOL success){

}];
```

###获取设备移动侦测报警的开关状态
方法如下：

![Snip20190910_71](/assets/Snip20190910_71.png)
```
// get 方法，获取设备移动侦测报警的开关状态
[manager getAlarmSwitch:^(BOOL success){

}];
```

###设置设备移动侦测是否报警
方法如下：

![Snip20190910_72](/assets/Snip20190910_72.png)
```
// set 方法，打开/关闭 设备移动报警开关
[manager setAlarmSwitch:isOn returnBlock:^(BOOL success){

}];
```

###获取邮箱报警开关状态
方法如下：

![Snip20190910_45](/assets/Snip20190910_45.png)
```
// get 方法，获取设备邮箱报警的开关状态
[manager getAlarmSwitch:^(BOOL success){

}];
```

###获取报警邮箱
方法如下：

![Snip20190910_47](/assets/Snip20190910_47.png)
```
// get 方法，获取已设置的报警邮箱
[manager getEmail:^( NSString *userStr,NSString *userPwd,NSString *serverStr,NSString *sendTo,int mPort){

}];
```

###设置报警邮箱
方法如下：

![Snip20190910_48](/assets/Snip20190910_48.png)
```
// set 方法，打开/关闭邮箱报警开关
[manager setEmail:user andPwd:pass andServer:server andSendTo:send0 andPort:port returnBlock:^(BOOL success){

}];
```

###设置邮箱报警开关
方法如下：

![Snip20190910_46](/assets/Snip20190910_46.png)
```
// set 方法，打开/关闭邮箱报警开关
[manager setEmailAlarm:isOn returnBlock:^(BOOL success){

}];
```

###获取人脸报警开关状态
方法如下：

![Snip20190910_57](/assets/Snip20190910_57.png)
```
// get 方法，获取人脸报警开关状态
[manager getPersonFaceAlarmWithBlock:^(BOOL status){

}];
```

###设置人脸报警开关
方法如下：

![Snip20190910_58](/assets/Snip20190910_58.png)
```
// set 方法，打开/关闭人脸报警开关
[manager setPersonFaceAlarmWith:isOn returnBlock:^(BOOL success){

}];
```

###获取人形报警开关状态
方法如下：

![Snip20190910_59](/assets/Snip20190910_59.png)
```
// get 方法，获取人形报警开关状态
[manager getPersonShapeAlarmWithBlock:^(BOOL status){

}];
```

###设置人形报警开关
方法如下：

![Snip20190910_58](/assets/Snip20190910_58.png)
```
// set 方法，打开/关闭人形报警开关
[manager setPersonShapeAlarmWithBlock:isOn returnBlock:^(BOOL success){

}];
```

###获取Mac地址 和 ip
方法如下：

![Snip20190910_127](/assets/Snip20190910_127.png)
```
// get 方法，获取 Mac地址和ip，可用于显示设备信息
[manager getMacIp:^(int success, NSString *mac, NSString *ip){

}];
```

# 录像设置



视频录像存放在SD卡中，录像设置可以处理  `SD卡`  和  `设置录像参数` 。

#### 创建 KHJDeviceManager 对象

```objective-c
KHJDeviceManager *manager = [[KHJDeviceManager alloc] init];
[manager createKHJCameraBase:Uid];
```

#### 格式化SD卡

```objective-c
if (manager) {
  [manager formatSdcard:^(int success) {
    // success = 0， 格式化成功
  }];
}
```

#### 获取SD卡信息

```objective-c
if (manager) {
  [manager queryDeviceInfo:self.uuidStr reternBlock:^(int allCapacity,
                                                      int leftCapacity,
                                                      int version,
                                                      NSString *model,
                                                      NSString *vendor,
                                                      NSString *ffs) {
    // allCapacity - 总容量
    // leftCapacity - 剩余容量
    // ffs - ffs 不等于 @"" && 不等于@"exfat"，则强制格式化SD卡。否则，不强制格式化
  }];
}
```

#### 查询录像模式

```objective-c
if (manager) {
  [manager getVideoRecordType:^(int type) {
    // type = 0 关闭录像
    // type = 1 连续录像
    // type = 2 定时计划
    // type = 3 报警录像
  }];
}
```

#### 设置录像模式

```objective-c
if (manager) {
  // type = 0 关闭录像
  // type = 1 连续录像
  // type = 2 定时计划
  // type = 3 报警录像
  [manager setVideoRecordType:type returnBlock:^(BOOL success) {
    
  }];
}
```

#### 设置录像质量

```objective-c
if (manager) {
  // index 1-流畅，2-标清，3-高清
  [manager setRecordVideoQuality:index returnBlock:^(BOOL success) {

  }];
}
```

#### 获取录像质量

```objective-c
if (manager) {
    [manager getRecordVideoQuality:^(int level) {
      // index 1-流畅，2-标清，3-高清
    }];
}
```

